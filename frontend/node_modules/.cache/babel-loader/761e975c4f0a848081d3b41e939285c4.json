{"ast":null,"code":"var _jsxFileName = \"/Users/umbertopalazzo/Development/code/redux-final-project/frontend/src/containers/AppointmentContainer.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchAppointments } from '../actions/fetchAppointments';\nimport Appointments from '../components/appointments/Appointments';\nimport { requestDate } from '../actions/requestDate';\n\nclass AppointmentContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      console.log(\"a\");\n      this.props.fetchAppointments();\n      console.log(\"e\");\n    };\n  }\n\n  render() {\n    let open_appointments = this.props.appointments.filter(a => a.establishment_id == this.props.establishment && a.status === false && (a.user_id_one || a.user_id_two) != this.props.current_user.id).sort(dateSort);\n    console.log(\"Appointments Container:\");\n    console.log(open_appointments);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Appointments, {\n      current_user: this.props.current_user,\n      open_appointments: open_appointments,\n      requestDate: this.props.requestDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  establishments: state.establishments,\n  loading: state.loading,\n  current_user: state.current_user,\n  appointments: state.appointments\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchAppointments: () => dispatch(fetchAppointments()),\n  requestDate: props => dispatch(requestDate(props))\n});\n\nfunction dateSort(a, b) {\n  const dateA = a.when;\n  const dateB = b.when;\n  let comparison = 0;\n\n  if (dateA > dateB) {\n    comparison = 1;\n  } else if (dateA < dateB) {\n    comparison = -1;\n  }\n\n  return comparison;\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppointmentContainer);","map":{"version":3,"sources":["/Users/umbertopalazzo/Development/code/redux-final-project/frontend/src/containers/AppointmentContainer.js"],"names":["React","Component","connect","fetchAppointments","Appointments","requestDate","AppointmentContainer","componentDidMount","console","log","props","render","open_appointments","appointments","filter","a","establishment_id","establishment","status","user_id_one","user_id_two","current_user","id","sort","dateSort","mapStateToProps","state","establishments","loading","mapDispatchToProps","dispatch","b","dateA","when","dateB","comparison"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,8BAAlC;AACA,OAAOC,YAAP,MAAyB,yCAAzB;AACA,SAASC,WAAT,QAA4B,wBAA5B;;AAEA,MAAMC,oBAAN,SAAmCL,SAAnC,CAA6C;AAAA;AAAA;;AAAA,SAGzCM,iBAHyC,GAGrB,MAAM;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACA,WAAKC,KAAL,CAAWP,iBAAX;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACH,KAPwC;AAAA;;AAWzCE,EAAAA,MAAM,GAAG;AAEL,QAAIC,iBAAiB,GAAG,KAAKF,KAAL,CAAWG,YAAX,CAAwBC,MAAxB,CAA+BC,CAAC,IAAIA,CAAC,CAACC,gBAAF,IAAsB,KAAKN,KAAL,CAAWO,aAAjC,IAAkDF,CAAC,CAACG,MAAF,KAAa,KAA/D,IAAwE,CAACH,CAAC,CAACI,WAAF,IAAiBJ,CAAC,CAACK,WAApB,KAAoC,KAAKV,KAAL,CAAWW,YAAX,CAAwBC,EAAxK,EAA4KC,IAA5K,CAAiLC,QAAjL,CAAxB;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYG,iBAAZ;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAc,MAAA,YAAY,EAAE,KAAKF,KAAL,CAAWW,YAAvC;AAAqD,MAAA,iBAAiB,EAAET,iBAAxE;AAA2F,MAAA,WAAW,EAAE,KAAKF,KAAL,CAAWL,WAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAIH;;AApBwC;;AAuB7C,MAAMoB,eAAe,GAAGC,KAAK,KAAK;AAC9BC,EAAAA,cAAc,EAAED,KAAK,CAACC,cADQ;AAE9BC,EAAAA,OAAO,EAAEF,KAAK,CAACE,OAFe;AAG9BP,EAAAA,YAAY,EAAEK,KAAK,CAACL,YAHU;AAI9BR,EAAAA,YAAY,EAAEa,KAAK,CAACb;AAJU,CAAL,CAA7B;;AAQA,MAAMgB,kBAAkB,GAAGC,QAAQ,KAAK;AACpC3B,EAAAA,iBAAiB,EAAE,MAAM2B,QAAQ,CAAC3B,iBAAiB,EAAlB,CADG;AAEpCE,EAAAA,WAAW,EAAGK,KAAD,IAAWoB,QAAQ,CAACzB,WAAW,CAACK,KAAD,CAAZ;AAFI,CAAL,CAAnC;;AAKA,SAASc,QAAT,CAAkBT,CAAlB,EAAqBgB,CAArB,EAAwB;AAEpB,QAAMC,KAAK,GAAGjB,CAAC,CAACkB,IAAhB;AACA,QAAMC,KAAK,GAAGH,CAAC,CAACE,IAAhB;AAEA,MAAIE,UAAU,GAAG,CAAjB;;AACA,MAAIH,KAAK,GAAGE,KAAZ,EAAmB;AACfC,IAAAA,UAAU,GAAG,CAAb;AACH,GAFD,MAEO,IAAIH,KAAK,GAAGE,KAAZ,EAAmB;AACtBC,IAAAA,UAAU,GAAG,CAAC,CAAd;AACH;;AACD,SAAOA,UAAP;AAEH;;AAED,eAAejC,OAAO,CAACuB,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CvB,oBAA7C,CAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport { connect } from 'react-redux'\nimport { fetchAppointments } from '../actions/fetchAppointments'\nimport Appointments from '../components/appointments/Appointments'\nimport { requestDate } from '../actions/requestDate'\n\nclass AppointmentContainer extends Component {\n\n\n    componentDidMount = () => {\n        console.log(\"a\")\n        this.props.fetchAppointments()\n        console.log(\"e\")\n    }\n\n\n\n    render() {\n        \n        let open_appointments = this.props.appointments.filter(a => a.establishment_id == this.props.establishment && a.status === false && (a.user_id_one || a.user_id_two) != this.props.current_user.id).sort(dateSort)\n        console.log(\"Appointments Container:\")\n        console.log(open_appointments)\n        return (\n            <div className=\"center-app\">\n                <Appointments current_user={this.props.current_user} open_appointments={open_appointments} requestDate={this.props.requestDate} />\n            </div>)\n    }\n}\n\nconst mapStateToProps = state => ({\n    establishments: state.establishments,\n    loading: state.loading,\n    current_user: state.current_user,\n    appointments: state.appointments\n})\n\n\nconst mapDispatchToProps = dispatch => ({\n    fetchAppointments: () => dispatch(fetchAppointments()),\n    requestDate: (props) => dispatch(requestDate(props))\n})\n\nfunction dateSort(a, b) {\n\n    const dateA = a.when;\n    const dateB = b.when;\n\n    let comparison = 0;\n    if (dateA > dateB) {\n        comparison = 1;\n    } else if (dateA < dateB) {\n        comparison = -1;\n    }\n    return comparison;\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppointmentContainer)"]},"metadata":{},"sourceType":"module"}